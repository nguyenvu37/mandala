(this.webpackJsonpmandala=this.webpackJsonpmandala||[]).push([[63,78,79,80,100,101,108,115],{125:function(e,r,t){"use strict";t.r(r);var a=t(51),n=t(6),o=t(46),s=t(0),c=t.n(s),i=t(565),l=t(74),u=t(50),f=t(65),m=t(3);r.default=Object(m.i)((function(e){var r=Object(i.a)("translation").t,t=Object(s.useState)({firstname:{errorMessage:""},lastname:{errorMessage:""},email:{errorMessage:""},phone:{errorMessage:""},password:{errorMessage:""},confirmPass:{errorMessage:""}}),m=Object(o.a)(t,2),p=m[0],g=m[1],d=Object(s.useRef)(),v=Object(s.useRef)(),b=Object(s.useRef)(),y=Object(s.useRef)(),h=Object(s.useRef)(),E=Object(s.useRef)();Object(s.useEffect)((function(){if(null!==localStorage.getItem("Token")){var e=JSON.parse(localStorage.getItem("Token"));d.current.value=e.firstName,b.current.value=e.lastName,v.current.value=e.email,y.current.value=e.phone}}),[]);var O=function(e){var t=e.target.name,o=function(e,t){if(""===t)return{errorMessage:r("validate.require")};if("email"===e){return null!==/\S+@\S+\.\S+/.exec(t)?{errorMessage:""}:{errorMessage:r("validate.email")}}if("firstname"===e){return null!==/^[a-zA-Z]+$/.exec(t)?{errorMessage:""}:{errorMessage:r("validate.firstname")}}if("lastname"===e){return null!==/^[a-zA-Z]+$/.exec(t)?{errorMessage:""}:{errorMessage:r("validate.lastname")}}if("phone"===e){return null!==/^\d{10}$/.exec(t)?{errorMessage:""}:{errorMessage:r("validate.phone")}}if("password"===e){return null!==/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/.exec(t)?{errorMessage:""}:{errorMessage:r("validate.password")}}return"confirmPass"===e?t===h.current.value?{errorMessage:""}:{errorMessage:r("validate.confirm")}:void 0}(t,function(e){switch(e){case"email":return v.current.value;case"firstname":return d.current.value;case"lastname":return b.current.value;case"phone":return y.current.value;case"password":return h.current.value;case"confirmPass":return E.current.value}}(t)).errorMessage,s=Object(n.a)({},p[t]);s.errorMessage=o,g(Object(n.a)(Object(n.a)({},p),{},Object(a.a)({},t,s)))},x=function(){var t={id:JSON.parse(localStorage.getItem("Token")).id,email:v.current.value,firstName:d.current.value,lastName:b.current.value,password:h.current.value,phone:y.current.value,role:"menber"};Object(f.default)("users/".concat(JSON.parse(localStorage.getItem("Token")).id),"put",t).then((function(t){t&&200===t.status?(localStorage.setItem("Token",JSON.stringify(Object(n.a)(Object(n.a)({},t.data),{},{password:"******",role:"***"}))),u.NotificationManager.success(r("profile.success")),e.history.push("/")):u.NotificationManager.error(r("profile.err"))}))};return c.a.createElement("main",null,c.a.createElement("section",{className:"register"},c.a.createElement("div",{className:"box"},c.a.createElement("div",{className:"register__content"},c.a.createElement("div",{className:"register__content__title title-content"},c.a.createElement("h1",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)",textTransform:"uppercase"}},r("edit-profile"))),c.a.createElement("div",{className:"register__content__form form"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=d.current.value,a=b.current.value,n=v.current.value,o=y.current.value,s=h.current.value,c=E.current.value;if(""!==t&&""!==a&&""!==n&&""!==o&&""!==s&&""!==c){if(s!==c)return u.NotificationManager.warning("Warning message",r("register.pass-again")),!1;x()}else u.NotificationManager.warning(r("register.require"))}},c.a.createElement("div",{className:"register__content__form__title1"},c.a.createElement("h3",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)"}},r("register.h3"))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.first-name")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"text",ref:d,name:"firstname",onKeyUp:O}),c.a.createElement(l.default,{errorMessage:p.firstname.errorMessage})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.last-name")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"text",ref:b,name:"lastname",onKeyUp:O}),c.a.createElement(l.default,{errorMessage:p.lastname.errorMessage})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.email")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"email",ref:v,name:"email",onKeyUp:O,disabled:!0,style:{background:"#b9b9b9c7"}}),c.a.createElement(l.default,{errorMessage:p.email.errorMessage})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.phone")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"phone",ref:y,name:"phone",onKeyUp:O}),c.a.createElement(l.default,{errorMessage:p.phone.errorMessage})),c.a.createElement("div",{className:"register__content__form__title2"},c.a.createElement("h3",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)"}},r("register.info-login"))),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.password")," ",c.a.createElement("span",null,"*")),c.a.createElement("input",{type:"password",ref:h,name:"password",onKeyUp:O}),c.a.createElement(l.default,{errorMessage:p.password.errorMessage})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",null,r("register.confirm")),c.a.createElement("input",{type:"password",ref:E,name:"confirmPass",onKeyUp:O}),c.a.createElement(l.default,{errorMessage:p.confirmPass.errorMessage})),c.a.createElement("div",{className:"register__content__form__btn btn-form"},c.a.createElement("button",{type:"submit",style:{boxShadow:"3px 4px 5px 0px rgba(0,0,0,0.75)"}},r("profile.btn")),c.a.createElement("button",{type:"button",style:{boxShadow:"3px 4px 5px 0px rgba(0,0,0,0.75)"},onClick:function(){return e.history.goBack()}},c.a.createElement("i",{className:"fas fa-reply"}),r("register.btn-back")))))))))}))},543:function(e,r,t){var a=t(544),n=t(545),o=t(546),s=t(548);e.exports=function(e,r){return a(e)||n(e,r)||o(e,r)||s()}},544:function(e,r){e.exports=function(e){if(Array.isArray(e))return e}},545:function(e,r){e.exports=function(e,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],a=!0,n=!1,o=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done)&&(t.push(s.value),!r||t.length!==r);a=!0);}catch(i){n=!0,o=i}finally{try{a||null==c.return||c.return()}finally{if(n)throw o}}return t}}},546:function(e,r,t){var a=t(547);e.exports=function(e,r){if(e){if("string"===typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}},547:function(e,r){e.exports=function(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}},548:function(e,r){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},565:function(e,r,t){"use strict";t.d(r,"a",(function(){return v}));var a=t(543),n=t.n(a),o=t(48),s=t.n(o),c=t(0),i=t(69);function l(){if(console&&console.warn){for(var e,r=arguments.length,t=new Array(r),a=0;a<r;a++)t[a]=arguments[a];"string"===typeof t[0]&&(t[0]="react-i18next:: ".concat(t[0])),(e=console).warn.apply(e,t)}}var u={};function f(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];"string"===typeof r[0]&&u[r[0]]||("string"===typeof r[0]&&(u[r[0]]=new Date),l.apply(void 0,r))}function m(e,r,t){e.loadNamespaces(r,(function(){if(e.isInitialized)t();else{e.on("initialized",(function r(){setTimeout((function(){e.off("initialized",r)}),0),t()}))}}))}function p(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!r.languages||!r.languages.length)return f("i18n.languages were undefined or empty",r.languages),!0;var a=r.languages[0],n=!!r.options&&r.options.fallbackLng,o=r.languages[r.languages.length-1];if("cimode"===a.toLowerCase())return!0;var s=function(e,t){var a=r.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===a||2===a};return!(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,e))&&(!!r.hasResourceBundle(a,e)||(!r.services.backendConnector.backend||!(!s(a,e)||n&&!s(o,e))))}function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach((function(r){s()(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function v(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.i18n,a=Object(c.useContext)(i.a)||{},o=a.i18n,s=a.defaultNS,l=t||o||Object(i.d)();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new i.b),!l){f("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},g=[u,{},!1];return g.t=u,g.i18n={},g.ready=!1,g}var v=d(d(d({},Object(i.c)()),l.options.react),r),b=v.useSuspense,y=e||s||l.options&&l.options.defaultNS;y="string"===typeof y?[y]:y||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(y);var h=(l.isInitialized||l.initializedStoreOnce)&&y.every((function(e){return p(e,l,v)}));function E(){return{t:l.getFixedT(null,"fallback"===v.nsMode?y:y[0])}}var O=Object(c.useState)(E()),x=n()(O,2),w=x[0],j=x[1],M=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e=v.bindI18n,r=v.bindI18nStore;function t(){M.current&&j(E())}return M.current=!0,h||b||m(l,y,(function(){M.current&&j(E())})),e&&l&&l.on(e,t),r&&l&&l.store.on(r,t),function(){M.current=!1,e&&l&&e.split(" ").forEach((function(e){return l.off(e,t)})),r&&l&&r.split(" ").forEach((function(e){return l.store.off(e,t)}))}}),[y.join()]);var N=[w.t,l,h];if(N.t=w.t,N.i18n=l,N.ready=h,h)return N;if(!h&&!b)return N;throw new Promise((function(e){m(l,y,(function(){e()}))}))}},65:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return s}));var a=t(564),n=t.n(a),o=t(66);function s(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",t=arguments.length>2?arguments[2]:void 0;return n()({method:r,url:"".concat(o.host,"/").concat(e),data:t}).catch((function(e){alert("Error: ERR_CONNECTION_REFUSED Please: Reload Page"),console.log(e.config)}))}},66:function(e,r,t){"use strict";t.r(r),t.d(r,"host",(function(){return a}));var a="https://data-mandala.herokuapp.com"},74:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a);r.default=function(e){return n.a.createElement("div",{className:"text-left text-danger font-italic"},e.errorMessage)}}}]);
//# sourceMappingURL=63.c675dbb1.chunk.js.map