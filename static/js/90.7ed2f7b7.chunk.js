(this.webpackJsonpmandala=this.webpackJsonpmandala||[]).push([[90,102,108,111],{129:function(e,t,a){"use strict";a.r(t);var r=a(540),n=a.n(r),s=a(541),l=a(51),c=a(6),o=a(46),u=a(0),i=a.n(u),m=a(564),d=a(74),g=a(50),f=a(65),p=a(47),b=a(67),v=a(45),h=a(3),x=a(73),_=a(20);t.default=Object(h.i)((function(e){var t=Object(m.a)("translation").t,a=Object(p.b)(),r=Object(p.c)((function(e){return e.users.loggedIn})),h=Object(u.useState)({email:{errorMessage:""},password:{errorMessage:""}}),E=Object(o.a)(h,2),M=E[0],w=E[1],j=Object(u.useState)(!0),O=Object(o.a)(j,2),y=O[0],N=O[1],S=Object(u.useState)(!1),k=Object(o.a)(S,2),I=k[0],z=k[1];Object(u.useEffect)((function(){var e=setTimeout((function(){N(!1)}),500);return function(){return clearTimeout(e)}}),[]);var A=Object(u.useRef)(),T=Object(u.useRef)(),Z=function(e){var t=e.target.name,a=Object(x.validateInput)(t,Object(x.getValueInput)(t,A,"","","",T)).errorMessage,r=Object(c.a)({},M[t]);r.errorMessage=a,w(Object(c.a)(Object(c.a)({},M),{},Object(l.a)({},t,r)))},$=function(){var e=Object(s.a)(n.a.mark((function e(r){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),z(!0),e.next=4,!(""===M.password.errorMessage&&""===M.email.errorMessage&&""!==T.current.value&&""!==A.current.value);case 4:if(!e.sent){e.next=8;break}return e.abrupt("return",g.NotificationManager.warning(t("login.format")));case 8:Object(f.default)("users?email=".concat(A.current.value),"Get",null).then((function(e){e.data[0]&&e.data[0].password===T.current.value&&"menber"===e.data[0].role?(localStorage.setItem("Token",JSON.stringify(Object(c.a)(Object(c.a)({},e.data[0]),{},{password:"******",role:"***"}))),g.NotificationManager.success(t("login.success")),setTimeout((function(){z(!1),a(Object(b.actLogin)())}),500)):g.NotificationManager.error(t("login.err"))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r||null!==localStorage.getItem("Token")?(e.history.length<=2?e.history.push("/"):e.history.goBack(),null):i.a.createElement("main",null,y?i.a.createElement("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement(_.default,null)):i.a.createElement("section",{className:"login",style:{minHeight:"500px"}},i.a.createElement("div",{className:"box"},i.a.createElement("div",{className:"login__content"},i.a.createElement("div",{className:"login__content__title title-content btn-form"},i.a.createElement("h1",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)"}},t("login.h1")),i.a.createElement("div",{className:"login__content__title__btn btn-form"},i.a.createElement("button",{style:{boxShadow:"3px 4px 5px 0px rgba(0,0,0,0.75)"},onClick:function(){e.history.push("/register")}},t("login.btn-register")))),i.a.createElement("div",{className:"login__content__form form"},i.a.createElement("form",{onSubmit:$},i.a.createElement("div",{className:"login__content__form__title"},i.a.createElement("h3",{style:{textShadow:"-2px 2px 2px rgba(229,229,229,0.74)"}},t("login.h3")),i.a.createElement("p",null,t("login.p"))),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,t("login.email")," ",i.a.createElement("span",null,"*")),i.a.createElement("input",{type:"email",ref:A,name:"email",onKeyUp:Z}),i.a.createElement(d.default,{errorMessage:M.email.errorMessage})),i.a.createElement("div",{className:"form-group"},i.a.createElement("label",null,t("login.password")," ",i.a.createElement("span",null,"*")),i.a.createElement("input",{type:"password",ref:T,name:"password",onKeyUp:Z}),i.a.createElement(d.default,{errorMessage:M.password.errorMessage})),i.a.createElement("div",{className:"login__content__form__btn btn-form"},i.a.createElement(v.b,{to:"/recover"},t("forget-pass")),i.a.createElement("button",{style:{boxShadow:"3px 4px 5px 0px rgba(0,0,0,0.75)",marginLeft:"10px"}},I?i.a.createElement("div",{className:"btn-view"},i.a.createElement(_.default,null)):t("login.btn-login")))))))))}))},71:function(e,t,a){"use strict";a.r(t),a.d(t,"email",(function(){return r})),a.d(t,"firstname",(function(){return n})),a.d(t,"lastname",(function(){return s})),a.d(t,"phone",(function(){return l})),a.d(t,"password",(function(){return c})),a.d(t,"fullname",(function(){return o})),a.d(t,"address",(function(){return u}));var r=/\S+@\S+\.\S+/,n=/^[a-zA-Z]+$/,s=/^[a-zA-Z]+$/,l=/^\d{10}$/,c=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/,o=/^[a-zA-Z ]+$/,u=/^[a-zA-Z0-9\s,-]*$/},73:function(e,t,a){"use strict";a.r(t),a.d(t,"validateInput",(function(){return s})),a.d(t,"getValueInput",(function(){return l})),a.d(t,"getTranslationCategory",(function(){return c}));var r=a(38),n=a(71),s=function(e,t,a){return""===t?{errorMessage:r.a.t("validate.require")}:"email"===e?null!==n.email.exec(t)?{errorMessage:""}:{errorMessage:r.a.t("validate.email")}:"firstname"===e?null!==n.firstname.exec(t)?{errorMessage:""}:{errorMessage:r.a.t("validate.firstname")}:"lastname"===e?null!==n.lastname.exec(t)?{errorMessage:""}:{errorMessage:r.a.t("validate.lastname")}:"phone"===e?null!==n.phone.exec(t)?{errorMessage:""}:{errorMessage:r.a.t("validate.phone")}:"password"===e?null!==n.password.exec(t)?{errorMessage:""}:{errorMessage:r.a.t("validate.password")}:"confirmPass"===e?t===a?{errorMessage:""}:{errorMessage:r.a.t("validate.confirm")}:"fullname"===e?null!==n.fullname.exec(t)?{errorMessage:""}:{errorMessage:r.a.t("validate.fullname")}:"address"===e?null!==n.address.exec(t)?{errorMessage:""}:{errorMessage:r.a.t("validate.address")}:void 0},l=function(e,t,a,r,n,s,l,c,o){switch(e){case"email":return t.current.value;case"firstname":return a.current.value;case"lastname":return r.current.value;case"phone":return n.current.value;case"password":return s.current.value;case"confirmPass":return l.current.value;case"fullname":return c.current.value;case"address":return o.current.value}},c=function(e){switch(e){case"cosmetic":return r.a.t("grid.category1");case"makeup":return r.a.t("grid.category2");case"perfume":return r.a.t("grid.category3");case"lotions":return r.a.t("grid.menu1_1");case"mask":return r.a.t("grid.menu1_2");case"cleanser":return r.a.t("grid.menu1_3");case"lipstick":return r.a.t("grid.menu2_1");case"mascara":return r.a.t("grid.menu2_2");case"blusher":return r.a.t("grid.menu2_3");default:return e}}},74:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r);t.default=function(e){return n.a.createElement("div",{className:"text-left text-danger font-italic"},e.errorMessage)}}}]);
//# sourceMappingURL=90.7ed2f7b7.chunk.js.map